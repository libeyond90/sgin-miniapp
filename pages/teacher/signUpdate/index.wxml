<!--pages/teacher/signUpdate/index.wxml-->
<navbar title="{{id ? 'ä¿®æ”¹æ‰“å¡ä»»åŠ¡' : 'å‘å¸ƒæ‰“å¡ä»»åŠ¡'}}" navType="back" />
<view class="page">
  <view class="form-container">
    <view class="name-section">
      <view class="section-title">ä»»åŠ¡åç§°</view>
      <input class="name-input" 
             placeholder="è¯·è¾“å…¥ä»»åŠ¡åç§°" 
             placeholder-class="input-placeholder"
             value="{{formData.name}}"
             bindinput="onNameInput" />
    </view>

    <view class="location-section">
      <view class="section-title">æ‰“å¡ä½ç½®</view>
      <view class="location-info" bindtap="chooseLocations">
        <view class="location-detail" wx:if="{{formData.latitude && formData.longitude}}">
          <text class="location-icon">ğŸ“</text>
          <view class="location-text">
            <text>{{formData.address || 'æœªçŸ¥åœ°ç‚¹'}}</text>
            <text class="location-coords">({{formData.latitude}}, {{formData.longitude}})</text>
          </view>
        </view>
        <view class="location-placeholder" wx:else>
          <text class="location-icon">ğŸ“</text>
          <text>ç‚¹å‡»é€‰æ‹©æ‰“å¡ä½ç½®</text>
        </view>
      </view>
    </view>

    <view class="distance-section">
      <view class="section-title">æ‰“å¡èŒƒå›´</view>
      <view class="distance-slider">
        <slider min="50" max="1000" step="50" value="{{formData.distance}}" 
                activeColor="#3B82F6" backgroundColor="rgba(255, 255, 255, 0.1)"
                block-color="#3B82F6" block-size="28"
                bindchange="onDistanceChange"
                bindchanging="onDistanceChanging"
                selected-color="#3B82F6"
                class="slider-component" />
        <text class="distance-value">{{formData.distance}}ç±³</text>
      </view>
      <view class="distance-tips">
        <text class="tip-text">50ç±³</text>
        <text class="tip-text">1000ç±³</text>
      </view>
    </view>

    <view class="deadline-section">
      <view class="section-title">æˆªæ­¢æ—¶é—´</view>
      <picker mode="multiSelector" bindchange="onDeadlineChange" 
              bindcolumnchange="onDeadlineColumnChange" 
              value="{{dateTimeIndex}}" range="{{dateTimeArray}}">
        <view class="deadline-picker">
          <text class="deadline-icon">ğŸ•’</text>
          <block wx:if="{{formData.deadline}}">
            <text class="deadline-text">{{deadlineText}}</text>
          </block>
          <text wx:else class="placeholder">è¯·é€‰æ‹©æˆªæ­¢æ—¶é—´</text>
          <text class="arrow">></text>
        </view>
      </picker>
    </view>
  </view>

  <view class="submit-section">
    <button class="submit-btn" bindtap="onSubmit">
      {{id ? 'ä¿å­˜ä¿®æ”¹' : 'å‘å¸ƒä»»åŠ¡'}}
    </button>
  </view>
</view>